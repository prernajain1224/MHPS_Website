{% extends "base.html" %}
{% load static wagtailcore_tags wagtailimages_tags %}

{% block title %}{{ page.article_title }} - {{ block.super }}{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-12">
            
            <!-- Breadcrumb -->
            <nav aria-label="breadcrumb" class="mt-3 mb-4">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="/">Home</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{{ page.get_parent.url }}">Articles</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">
                        {{ page.article_title|truncatewords:5 }}
                    </li>
                </ol>
            </nav>
            
            <!-- Article Content -->
            <article class="article-detail-article">
                
                <!-- Article Badge -->
                <div class="article-detail-badge mb-3">
                    <span class="article-badge">
                        {{ page.get_article_type_display|upper }}
                    </span>
                </div>
                
                <!-- Article Title -->
                <h1 class="article-detail-title mb-3">{{ page.article_title }}</h1>
                
                <!-- Article Meta -->
                <div class="article-detail-meta mb-4">
                    <span class="article-detail-date">
                        <i class="far fa-calendar-alt me-2"></i>
                        {{ page.publish_date|date:"d F Y" }}
                    </span>
                    
                    {% if page.author_name %}
                        <span class="article-detail-author ms-3">
                            <i class="far fa-user me-2"></i>
                            {{ page.author_name }}
                        </span>
                    {% endif %}
                </div>
                
                <!-- Featured Image -->
                {% if page.featured_image %}
                    <div class="article-featured-image mb-4">
                        {% image page.featured_image fill-1200x600 as featured_img %}
                        <img src="{{ featured_img.url }}" 
                             alt="{{ page.article_title }}" 
                             class="img-fluid rounded">
                    </div>
                {% endif %}
                
                <!-- Article Content -->
                <div class="article-detail-content">
                    {{ page.full_content|richtext }}
                </div>
                
                <!-- Back Button -->
                <div class="article-detail-back mt-5">
                    <a href="{{ page.get_parent.url }}" class="btn btn-outline-success">
                        <i class="fas fa-arrow-left me-2"></i>
                        Back to Articles
                    </a>
                </div>
                
            </article>
            
        </div>
    </div>
</div>
{% endblock %}